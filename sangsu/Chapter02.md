# 몽고DB 아키텍처
### Q1. 복제본 세트에서 **주(primary)** 의 역할로 가장 올바른 것은?

A. 읽기만 수행한다

B. 쓰기를 수행하고 변경 사항을 oplog에 기록한다

C. 선거에 참여하지 않는다

D. 백업 전용이다

---

### Q2. 복제본 세트의 **선거(Election)** 와 가장 관련 깊은 설명은?

A. Paxos 기반으로만 동작한다

B. RAFT 기반 프로토콜을 사용하여 주를 선출한다

C. 과반수 개념이 없다

D. 보조는 절대 주가 될 수 없다

---

### Q3. 다음 상황 중 **새로운 주 선거가 촉발**될 수 있는 경우는?

A. 주의 하트비트 지연이 임계치를 초과했을 때

B. 보조 간 네트워크 지연

C. 컬렉션에 인덱스를 추가했을 때

D. oplog 윈도가 길어졌을 때

---

### Q4. **중재자(Arbiter)** 에 대한 설명으로 올바른 것은?

A. 데이터도 저장하며 읽기 트래픽을 분산한다

B. 오직 투표만 하고, 우선순위 0이며 데이터를 저장하지 않는다

C. 주로 장애 조치 시 쓰기를 대행한다

D. 숨김(hidden) 구성원이다

---

### Q5. **숨김(hidden) 구성원** 에 대한 설명으로 맞는 것은?

A. 주 역할을 수행할 수 있다

B. 선거 투표권이 없고 우선순위 1이다

C. 백업/리포트 전용으로 자주 사용하며 우선순위 0, hidden: true 로 둔다

D. 항상 지연 구성원이다

---

### Q6. **oplog**의 특성으로 올바른 것은?

A. 비멱등 연산만 기록한다

B. 주에서만 존재하고 보조는 보관하지 않는다

C. 멱등성 보장을 위해 동일 연산을 재적용해도 결과가 일관되도록 기록한다

D. 용량이 고정이며 초과 불가

---

### Q7. **쓰기 보장(Write Concern)** 구성 예에서 `{"w":"majority", "j":true}`의 의미는?

A. 주에만 기록되면 완료

B. 과반수 노드에 커밋되고 저널에도 기록된 후 확인

C. 저널만 기록되면 완료

D. 타임아웃 없이 무한 대기

---

### Q8. **읽기 선호도(Read Preference)** 로 주의 부하를 완화하면서, 주가 불가하면 보조로 읽게 하는 설정은?

A. primary

B. secondary

C. primaryPreferred

D. nearest

---

### Q9. 샤딩 클러스터의 기본 구성 요소 **셋**은?

A. shard, mongod, configdb

B. shard, mongos, config server

C. mongos, arbiter, hidden

D. shard, routerless, balancerless

---

### Q10. **샤드 키(Shard Key)** 선택 시 잘못된 설명은?

A. 범위 샤딩은 **높은 카디널리티**가 유리하다

B. 단조 증가 키(예: 시간)로 범위 샤딩 시 핫 샤드가 생길 수 있다

C. 해시 샤딩은 범위 조회에 유리하다

D. 샤딩 적용 컬렉션은 샤드 키 접두사 인덱스가 필요하다

---

## ✅ 정답표

| 번호 | 정답 | 핵심 포인트 |
| --- | --- | --- |
| 1 | B | 주는 쓰기 + oplog 기록 |
| 2 | B | RAFT 기반 선거 |
| 3 | A | 주의 HB 지연 등으로 선거 촉발 |
| 4 | B | Arbiter = 투표만, 데이터 없음 |
| 5 | C | hidden: true, prio 0, 백업/리포트용 |
| 6 | C | oplog 멱등성 |
| 7 | B | majority + journal |
| 8 | C | primaryPreferred |
| 9 | B | shard + mongos + config server |
| 10 | C | 해시 샤딩은 범위 조회 비효율 |
